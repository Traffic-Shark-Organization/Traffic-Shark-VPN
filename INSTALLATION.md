# üì¶ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Traffic Shark VPN

## –í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–£ –≤–∞—Å –µ—Å—Ç—å –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ OpenVPN —Å–µ—Ä–≤–µ—Ä–∞:

### üöÄ –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 5-10 –º–∏–Ω—É—Ç
- ‚úÖ –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—ç–∫–∞–ø–æ–≤ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –ë—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- –¢–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç production-ready —Ä–µ—à–µ–Ω–∏–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –≥–ª—É–±–æ–∫–∏—Ö –∑–Ω–∞–Ω–∏–π Linux

üëâ **[–ü–µ—Ä–µ–π—Ç–∏ –∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ](#–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)**

---

### üîß –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–∞–∂–¥—ã–º —à–∞–≥–æ–º
- ‚úÖ –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û–±—É—á–µ–Ω–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞
- –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

üëâ **[–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ](README.md#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)**

---

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°**: Debian 11+, Ubuntu 20.04+ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ Debian 13)
- **–ü—Ä–∞–≤–∞**: Root –¥–æ—Å—Ç—É–ø (sudo)
- **VPS –º–∏–Ω–∏–º—É–º**:
  - 2 vCPU (4 vCPU –¥–ª—è 50+ –∫–ª–∏–µ–Ω—Ç–æ–≤)
  - 2 GB RAM (4 GB —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)  
  - 20 GB SSD
  - 100 Mbps —Å–µ—Ç—å (1 Gbps —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –≤–∞—à–µ–º—É VPS
ssh root@–í–ê–®_IP_–ê–î–†–ï–°
```

### –®–∞–≥ 2: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞

**–°–ø–æ—Å–æ–± –ê - –ß–µ—Ä–µ–∑ wget (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω):**

```bash
wget https://raw.githubusercontent.com/YOUR_REPO/main/scripts/auto-deploy-vpn.sh
chmod +x auto-deploy-vpn.sh
```

**–°–ø–æ—Å–æ–± –ë - –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**

```bash
apt update && apt install -y git
git clone https://github.com/YOUR_REPO/Traffic-Shark-VPN.git
cd Traffic-Shark-VPN
chmod +x scripts/auto-deploy-vpn.sh
```

**–°–ø–æ—Å–æ–± –í - –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ (–µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ GitHub):**

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –Ω–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
# –ó–∞—Ç–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç–µ –µ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp scripts/auto-deploy-vpn.sh root@–í–ê–®_IP:/root/
ssh root@–í–ê–®_IP
chmod +x /root/auto-deploy-vpn.sh
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
sudo ./scripts/auto-deploy-vpn.sh
```

–∏–ª–∏ (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –≤ –∫–æ—Ä–Ω–µ):

```bash
sudo ./auto-deploy-vpn.sh
```

### –®–∞–≥ 4: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–°–∫—Ä–∏–ø—Ç –∑–∞–¥–∞—Å—Ç –≤–∞–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–æ–≤:

#### 1. IP –∞–¥—Ä–µ—Å / –¥–æ–º–µ–Ω —Å–µ—Ä–≤–µ—Ä–∞
```
–û–±–Ω–∞—Ä—É–∂–µ–Ω –≤–Ω–µ—à–Ω–∏–π IP: 123.45.67.89
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç IP –¥–ª—è VPN? (Y/n):
```
- –ù–∞–∂–º–∏—Ç–µ `Y` (–∏–ª–∏ Enter) –¥–ª—è –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- –ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: vpn.mycompany.com)

#### 2. –°–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```
–û–±–Ω–∞—Ä—É–∂–µ–Ω —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: eth0
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å? (Y/n):
```
- –û–±—ã—á–Ω–æ –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: `eth0`, `ens3`, `venet0`

#### 3. Firewall —Å–∏—Å—Ç–µ–º–∞
```
–í—ã–±–µ—Ä–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É firewall:
1) UFW (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è - –ø—Ä–æ—â–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏)
2) iptables-persistent (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
–í—ã–±–æ—Ä (1-2):
```
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è **UFW** (–≤–∞—Ä–∏–∞–Ω—Ç 1)

#### 4. DNS —Å–µ—Ä–≤–µ—Ä—ã
```
–í—ã–±–µ—Ä–∏—Ç–µ DNS —Å–µ—Ä–≤–µ—Ä—ã:
1) Cloudflare (1.1.1.1, 1.0.0.1) - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
2) Google (8.8.8.8, 8.8.4.4)
3) Quad9 (9.9.9.9, 149.112.112.112)
–í—ã–±–æ—Ä (1-3):
```
- Cloudflare - –ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏
- Google - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- Quad9 - —Ñ–æ–∫—É—Å –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### 5. –î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
```
–°—Ç—Ä–∞–Ω–∞ [RU]: 
–†–µ–≥–∏–æ–Ω [Moscow]: 
–ì–æ—Ä–æ–¥ [Moscow]:
–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è [Traffic Shark VPN]:
Email [admin@trafficshark.local]:
–ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ [IT Security]:
```
- –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–∞–∂–∏–º–∞—è Enter)
- –ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ

#### 6. –ü–µ—Ä–≤—ã–π –∫–ª–∏–µ–Ω—Ç
```
–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞? (Y/n):
–ò–º—è –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ [client1]:
```
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å —Å—Ä–∞–∑—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### 7. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç –∏—Ç–æ–≥–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```
===== –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è =====
–°–µ—Ä–≤–µ—Ä IP/–î–æ–º–µ–Ω: 123.45.67.89
–°–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: eth0
Firewall: UFW
DNS: 1.1.1.1, 1.0.0.1
–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è: Traffic Shark VPN
–ü–µ—Ä–≤—ã–π –∫–ª–∏–µ–Ω—Ç: client1

–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å —ç—Ç–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏? (Y/n):
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞–∂–º–∏—Ç–µ `Y` –¥–ª—è —Å—Ç–∞—Ä—Ç–∞.

### –®–∞–≥ 5: –ü—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç:

1. ‚è≥ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (1-2 –º–∏–Ω)
2. ‚è≥ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ (1-2 –º–∏–Ω)
3. ‚è≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IP forwarding (5 —Å–µ–∫)
4. ‚è≥ –°–æ–∑–¥–∞–Ω–∏–µ CA –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π (3-5 –º–∏–Ω) **‚Üê —Å–∞–º—ã–π –¥–æ–ª–≥–∏–π —ç—Ç–∞–ø**
5. ‚è≥ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è OpenVPN (10 —Å–µ–∫)
6. ‚è≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall (20 —Å–µ–∫)
7. ‚è≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Fail2Ban (10 —Å–µ–∫)
8. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã (10 —Å–µ–∫)
9. ‚è≥ –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ (30 —Å–µ–∫)
10. ‚è≥ –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (5 —Å–µ–∫)

**–û–±—â–µ–µ –≤—Ä–µ–º—è: 5-10 –º–∏–Ω—É—Ç**

### –®–∞–≥ 6: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
=========================================================================
  Traffic Shark VPN - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
=========================================================================

===== –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ =====
IP/–î–æ–º–µ–Ω —Å–µ—Ä–≤–µ—Ä–∞: 123.45.67.89
–ü–æ—Ä—Ç: 1194 (UDP)
–°–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: eth0
Firewall: UFW
DNS —Å–µ—Ä–≤–µ—Ä—ã: 1.1.1.1, 1.0.0.1

===== –ü–µ—Ä–≤—ã–π –∫–ª–∏–µ–Ω—Ç =====
–ò–º—è: client1
–§–∞–π–ª: ~/client-configs/files/client1.ovpn

–î–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä:
scp root@123.45.67.89:~/client-configs/files/client1.ovpn ./

===== –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã =====
–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞:         systemctl status openvpn@server
–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:             systemctl restart openvpn@server
–õ–æ–≥–∏:                   tail -f /var/log/openvpn/openvpn.log
–ü–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã:   cat /var/log/openvpn/openvpn-status.log

===== –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–≤ /root/scripts/) =====
–°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞:        ./create-client.sh <–∏–º—è>
–û—Ç–æ–∑–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞:       ./revoke-client.sh <–∏–º—è>
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:             ./monitor-vpn.sh
–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:  ./backup-vpn.sh

‚úì VPN —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
```

---

## üì• –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VPN

### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ

#### 1. –°–∫–∞—á–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (–Ω–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!)
scp root@123.45.67.89:~/client-configs/files/client1.ovpn ./
```

#### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å OpenVPN –∫–ª–∏–µ–Ω—Ç

**Windows:**
- –°–∫–∞—á–∞—Ç—å: [OpenVPN GUI](https://openvpn.net/community-downloads/)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `.ovpn` —Ñ–∞–π–ª

**macOS:**
- –í–∞—Ä–∏–∞–Ω—Ç 1: [Tunnelblick](https://tunnelblick.net/) (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
  ```bash
  brew install --cask tunnelblick
  ```
- –í–∞—Ä–∏–∞–Ω—Ç 2: [OpenVPN Connect](https://openvpn.net/client/)

**Linux:**
```bash
sudo apt install openvpn
sudo openvpn --config client1.ovpn
```

**Android:**
- [OpenVPN for Android](https://play.google.com/store/apps/details?id=de.blinkt.openvpn)

**iOS:**
- [OpenVPN Connect](https://apps.apple.com/app/openvpn-connect/id590379981)

#### 3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è

- –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `.ovpn` —Ñ–∞–π–ª
- –ù–∞–∂–º–∏—Ç–µ "Connect" / "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"

---

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VPN

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
/root/scripts/create-client.sh client2

# –°–∫–∞—á–∞—Ç—å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä
scp root@–í–ê–®_IP:~/client-configs/files/client2.ovpn ./
```

### –û—Ç–∑—ã–≤ –¥–æ—Å—Ç—É–ø–∞ –∫–ª–∏–µ–Ω—Ç–∞

```bash
# –û—Ç–æ–∑–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
/root/scripts/revoke-client.sh client2

# –ö–ª–∏–µ–Ω—Ç –±–æ–ª—å—à–µ –Ω–µ —Å–º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
/root/scripts/monitor-vpn.sh

# –í—ã–≤–æ–¥:
# ===== OpenVPN Server Status =====
# ‚óè openvpn@server.service - OpenVPN connection to server
#    Active: active (running)
#
# ===== Connected Clients =====
# client1 - 10.8.0.2 (123.45.67.89)
# client2 - 10.8.0.3 (98.76.54.32)
#
# ===== Total Clients Connected =====
# 2
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f /var/log/openvpn/openvpn.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ —á–µ—Ä–µ–∑ systemd
journalctl -u openvpn@server -n 50

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
grep "CONNECTED" /var/log/openvpn/openvpn.log | tail -20
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ OpenVPN
systemctl restart openvpn@server

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
systemctl status openvpn@server
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –†—É—á–Ω–æ–π –±—ç–∫–∞–ø
/root/scripts/backup-vpn.sh

# –ë—ç–∫–∞–ø—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00
# –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: /root/vpn-backups/

# –ü—Ä–æ—Å–º–æ—Ç—Ä –±—ç–∫–∞–ø–æ–≤
ls -lh /root/vpn-backups/
```

---

## üçé –°–ø–µ—Ü–∏—Ñ–∏–∫–∞ –¥–ª—è macOS

–ï—Å–ª–∏ OpenVPN Connect –Ω–∞ Mac –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:

### –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Tunnelblick (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ù–∞ Mac
brew install --cask tunnelblick

# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ .ovpn —Ñ–∞–π–ª –≤ Tunnelblick
```

### –†–µ—à–µ–Ω–∏–µ 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd ~/client-configs/files
/root/scripts/fix-client-for-mac.sh client1.ovpn client1-mac.ovpn

# –°–∫–∞—á–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º Mac:
scp root@–í–ê–®_IP:~/client-configs/files/client1-mac.ovpn ./
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü–æ–Ω–∏–∂–∞–µ—Ç TLS —Å 1.3 –¥–æ 1.2
- –£–¥–∞–ª—è–µ—Ç –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã
- –î–æ–±–∞–≤–ª—è–µ—Ç MTU –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –£–ø—Ä–æ—â–∞–µ—Ç cipher suites

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–µ–π

```bash
# –ù–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —Å–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á (–µ—Å–ª–∏ –Ω–µ—Ç)
ssh-keygen -t ed25519 -C "your_email@example.com"

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh-copy-id root@–í–ê–®_IP

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –æ—Ç–∫–ª—é—á–∏—Ç–µ –ø–∞—Ä–æ–ª—å–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
nano /etc/ssh/sshd_config

# –ò–∑–º–µ–Ω–∏—Ç–µ:
# PasswordAuthentication no
# PermitRootLogin prohibit-password

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ SSH
systemctl restart sshd
```

### 2. –°–º–µ–Ω–∞ SSH –ø–æ—Ä—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nano /etc/ssh/sshd_config

# –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç
# Port 2222

# –†–∞–∑—Ä–µ—à–∏—Ç—å –Ω–æ–≤—ã–π –ø–æ—Ä—Ç –≤ firewall
ufw allow 2222/tcp

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å SSH
systemctl restart sshd

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å:
# ssh -p 2222 root@–í–ê–®_IP
```

### 3. –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç–æ–º
# –ù–æ –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é:
apt update && apt upgrade -y
```

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Fail2Ban

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
fail2ban-client status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–±–∞–Ω–µ–Ω–Ω—ã–µ IP
fail2ban-client status openvpn

# –†–∞–∑–±–∞–Ω–∏—Ç—å IP
fail2ban-client set openvpn unbanip IP_–ê–î–†–ï–°
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—à–∏–±–æ–∫
journalctl -u openvpn@server -n 50

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
openvpn --config /etc/openvpn/server.conf --test-crypto

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
ls -la /etc/openvpn/
openssl x509 -in /etc/openvpn/server.crt -noout -text
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–ª–∏–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞
netstat -tulpn | grep 1194

# –ü—Ä–æ–≤–µ—Ä–∫–∞ firewall
ufw status verbose
# –∏–ª–∏
iptables -L -n -v

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
tail -50 /var/log/openvpn/openvpn.log
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
htop

# –¢–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
wget -O /dev/null http://speedtest.tele2.net/100MB.zip

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–∏
iftop -i tun0
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —á–µ—Ä–µ–∑ VPN

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ IP forwarding
sysctl net.ipv4.ip_forward
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: net.ipv4.ip_forward = 1

# –ü—Ä–æ–≤–µ—Ä–∫–∞ NAT –ø—Ä–∞–≤–∏–ª
iptables -t nat -L -n -v

# –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
dig @1.1.1.1 google.com
```

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –¥–ª—è 50+ –∫–ª–∏–µ–Ω—Ç–æ–≤:

### –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

- ‚úÖ **–°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–∏–º–∏—Ç—ã**: 65536 –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ **–°–µ—Ç–µ–≤—ã–µ –±—É—Ñ–µ—Ä—ã**: –£–≤–µ–ª–∏—á–µ–Ω—ã –¥–æ 393216
- ‚úÖ **TCP congestion control**: BBR (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º)
- ‚úÖ **OpenVPN –±—É—Ñ–µ—Ä—ã**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **Max clients**: 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã VPS:

| –ö–ª–∏–µ–Ω—Ç—ã | vCPU | RAM | –î–∏—Å–∫ | –°–µ—Ç—å |
|---------|------|-----|------|------|
| 1-10    | 1    | 1GB | 10GB | 100Mbps |
| 10-25   | 2    | 2GB | 20GB | 100Mbps |
| 25-50   | 2-4  | 4GB | 20GB | 1Gbps |
| 50-100  | 4    | 4GB | 40GB | 1Gbps |
| 100+    | 8    | 8GB | 40GB | 1Gbps |

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [README.md](README.md)
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**: [QUICK_START.md](QUICK_START.md)
- **–°–∫—Ä–∏–ø—Ç—ã**: [scripts/README.md](scripts/README.md)

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)

### –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–Ω–æ–≤–æ?

–î–∞, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ –æ—á–∏—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å OpenVPN
systemctl stop openvpn@server
systemctl disable openvpn@server

# –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
rm -rf /etc/openvpn/*
rm -rf ~/client-configs/

# –û—á–∏—Å—Ç–∏—Ç—å firewall –ø—Ä–∞–≤–∏–ª–∞ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –∑–∞–Ω–æ–≤–æ
```

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –≤—Ç–æ—Ä–æ–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏?

1. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –≤—Ç–æ—Ä–æ–π —Å–µ—Ä–≤–µ—Ä —Ç–µ–º –∂–µ —Å–∫—Ä–∏–ø—Ç–æ–º
2. –í –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö `.ovpn` –¥–æ–±–∞–≤—å—Ç–µ –≤—Ç–æ—Ä—É—é —Å—Ç—Ä–æ–∫—É `remote`:
   ```
   remote vpn1.example.com 1194
   remote vpn2.example.com 1194
   ```

### –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏?

```bash
# –ò–∑–º–µ–Ω–∏—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nano /etc/openvpn/server.conf
# port 1194  ‚Üí  port 443

# –û–±–Ω–æ–≤–∏—Ç—å firewall
ufw allow 443/udp
ufw delete allow 1194/udp

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
systemctl restart openvpn@server

# –û–±–Ω–æ–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
# remote IP 1194  ‚Üí  remote IP 443
```

### –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞?

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å vnstat
apt install vnstat -y
systemctl enable vnstat
systemctl start vnstat

# –î–∞—Ç—å –µ–º—É —Å–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤)
# –ó–∞—Ç–µ–º:
vnstat -i tun0
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª [Troubleshooting](#troubleshooting)
2. –ò–∑—É—á–∏—Ç–µ –ª–æ–≥–∏: `journalctl -u openvpn@server -n 100`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: `/root/scripts/monitor-vpn.sh`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [–ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](README.md)

---

**Traffic Shark VPN Infrastructure Team**  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–õ–∏—Ü–µ–Ω–∑–∏—è**: MIT

